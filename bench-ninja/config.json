{
    "vars": {
	"checkpoint-sim": "base",
	"pin": "../pin/pin",
	"pinpoints": "../tools/build/libbbtrace.so",
	"valgrind": "../valgrind/install/bin/valgrind",
	"interval": 50000000,
	"simpoint": "../simpoint/bin/simpoint",
	"num_simpoints": 10,
	"memsize": "8GB",
	"ss": "8MB",
	"warmup": 10000000,
	"bbv-impl": "pin",
	"cfitool": "../tools/build/libCFI.so"
    },
    
    "sw": {
	"_default": {
	    "spec2017": "../cpu2017",
	    "test-suite": "../test-suite",
	    "llvm": "../llvm",
	    "cc": "../llvm/build/bin/clang",
	    "cxx": "../llvm/build/bin/clang++",
	    "fc": "../llvm/build/bin/flang-new",
	    "cmake_build_type": "Release",
	    "cflags": ["-fcf-protection=none", "-mno-avx"],
	    "fflags": ["-O3"],
	    "ldflags": ["-static", "-fuse-ld=lld", "-Wl,--allow-multiple-definition", "-L/home/nmosier/llsct2/llvm/build/lib"],
	    "libc_cflags": [],
	    "libcxx_cflags": [],
	    "deps": []
	},
	"_lto": {
	    "inherit": "_default",
	    "+cflags": ["-flto"],
	    "+ldflags": ["-flto"],
	    "+deps": ["../llvm/build/bin/ld.lld"]
	},

	"base": {
	    "inherit": "_default"
	},
	"base-lto": {
	    "inherit": "_lto"
	},

	"_llsct": {
	    "inherit": "_default",
	    "+cflags": [
		"-mllvm", "-llsct",
		"-mllvm", "-llsct-declassify",
		"-mllvm", "-llsct-cfi"
	    ],
	    "+fflags": [
		"-mllvm", "-llsct",
		"-mllvm", "-llsct-declassify",
		"-mllvm", "-llsct-cfi"
	    ],
	    "+libc_cflags": ["-mllvm", "-tpe-ncsrs=0"],
	    "+libcxx_cflags": ["-mllvm", "-tpe-ncsrs=0"]
	},
	"llsct": {
	    "inherit": "_default",
	    "cflags": ["-DontUseThisSwMode"]
	},
	"_llsct-lto": {
	    "inherit": "_lto",
	    "+ldflags": [
		"-Wl,--load-pass-plugin=/home/nmosier/llsct2/passes/build/libDeclassifyPass.so",
		"-Wl,-mllvm,-llsct,-mllvm,-llsct-declassify,-mllvm,-llsct-cfi"
	    ],
	    "+deps": ["../passes/build/libDeclassifyPass.so"]
	},
	"llsct-lto": {
	    "inherit": "_default",
	    "cflags": ["-DontUsethisSwMode"]
	},
	"llsct-lto-debug": {
	    "inherit": "llsct-lto",
	    "+ldflags": ["-Wl,--load-pass-plugin=/home/nmosier/llsct2/passes/build/libDebugIR.so"],
	    "+deps": ["../passes/build/libDebugIR.so"]
	},

	"llsct-ct": {
	    "inherit": "_llsct",
	    "+cflags": ["-mllvm", "-tpe-privacy-policy=ct"],
	    "+fflags": ["-mllvm", "-tpe-privacy-policy=ct"]
	},
	"llsct-sbox": {
	    "inherit": "_llsct",
	    "+cflags": ["-mllvm", "-tpe-privacy-policy=sandbox"],
	    "+fflags": ["-mllvm", "-tpe-privacy-policy=sandbox"]
	},

	"llsct-lto-ct": {
	    "inherit": "_llsct-lto",
	    "+ldflags": ["-Wl,-mllvm,-tpe-privacy-policy=ct"]
	},
	"llsct-lto-sbox": {
	    "inherit": "_llsct-lto",
	    "+ldflags": ["-Wl,-mllvm,-tpe-privacy-policy=sandbox"]
	},

	"llsct-ct-none": {
	    "inherit": "llsct-ct",
	    "+cflags": ["-mllvm", "-tpe-privr=0", "-mllvm", "-tpe-privm=0", "-mllvm", "-tpe-ncsrs=0"]
	},
	"llsct-ct-ncsrs": {
	    "inherit": "llsct-ct",
	    "+cflags": ["-mllvm", "-tpe-privr=0", "-mllvm", "-tpe-privm=0"]
	},
	"llsct-ct-ncsrs+privm": {
	    "inherit": "llsct-ct",
	    "+cflags": ["-mllvm", "-tpe-privr=0"]
	},

	"llsct-sbox-none": {
	    "inherit": "llsct-sbox",
	    "+cflags": ["-mllvm", "-tpe-privr=0"]
	},
	"llsct-ct-simple": {
	    "inherit": "llsct-ct",
	    "+cflags": ["-mllvm", "-tpe-args=0"]
	},

	"llsct-ct-align": {
	    "inherit": "llsct-ct",
	    "+ldflags": ["-Wl,--wrap=malloc", "-Wl,--whole-archive", "/home/nmosier/llsct2/tools/build/libalign_runtime.a", "-Wl,--no-whole-archive"]
	}
    },

    "sim": {
	"_default": {
	    "target": "build/X86/gem5.opt",
	    "script_kvm": "configs/deprecated/example/se.py",
	    "script_o3": "configs/deprecated/example/se.py",
	    "sconsopts": ["--ignore-style", "-j25"]
	},
	
	"base": {
	    "inherit": "_default",
	    "src": "../gem5-spec2017"
	},
	"llsct": {
	    "inherit": "_default",
	    "src": "../gem5"
	},
	"spt": {
	    "inherit": "_default",
	    "src": "../spt",
	    "target": "build/X86/gem5.fast"
	},
	"stt": {
	    "inherit": "_default",
	    "src": "../stt",
	    "target": "build/X86/gem5.fast"
	}
    },

    "hwmode": {
	"_default": {
	    "gem5_opts": [],
	    "script_opts": [
		"--ruby",
		"--umodel=alk-p",
		"--l1d_size=48kB",
		"--l1d_assoc=12"
	    ]
	},

	"base": {
	    "inherit": "_default"
	},
	"llsct-declassify-shadowmem": {
	    "inherit": "_default",
	    "+script_opts": [
		"--tpe-mem=1",
		"--llsct-declassify-impl=shadowmem"
	    ]
	},
	"llsct-declassify-shadowl1": {
	    "inherit": "_default",
	    "+script_opts": [
		"--tpe-mem=1",
		"--llsct-declassify-impl=shadowl1"
	    ]
	},
	"llsct-declassify-cache": {
	    "inherit": "_default",
	    "+script_opts": [
		"--tpe-mem=1",
		"--llsct-declassify-impl=cache",
		"--llsct-declassify-lines=1024"
	    ]
	},
	"llsct-declassify-shadowl1+pattern": {
	    "inherit": "_default",
	    "+script_opts": [
		"--tpe-mem=1",
		"--llsct-declassify-impl=shadowl1+pattern"
	    ]
	},

	"llsct": {
	    "inherit": "llsct-declassify-cache",
	    "+script_opts": ["--tpe-reg=1"]
	},
	"llsct-shadowmem": {
	    "inherit": "llsct-declassify-shadowmem",
	    "+script_opts": ["--tpe-reg=1"]
	},
	"llsct-shadowl1": {
	    "inherit": "llsct-declassify-shadowl1",
	    "+script_opts": ["--tpe-reg=1"]
	},
	"llsct-nodecl": {
	    "inherit": "_default",
	    "+script_opts": ["--tpe-reg=1", "--tpe-mem=1", "--llsct-declassify-impl=none"]
	},
	"llsct-pipeview": {
	    "inherit": "llsct",
	    "+gem5_opts": ["--debug-flags=O3PipeView,O3PipeViewLLSCT,LLSCT", "--debug-file=dbgout.gz"]
	},
	"spt": {
	    "inherit": "_default",
	    "+script_opts": ["--enableSPT=1", "--moreTransmitInsts=2"]
	},
	"stt": {
	    "inherit": "_default",
	    "+script_opts": ["--STT=1"]
	},
	"llsct-arch": {
	    "inherit": "llsct",
	    "+script_opts": ["--llsct-threat-model=arch"]
	},
	"llsct-spectre": {
	    "inherit": "llsct",
	    "+script_opts": ["--llsct-speculation-model=spectre"]
	},
	"stt-spectre": {
	    "inherit": "stt",
	    "+script_opts": ["--speculation-model=spectre"]
	},
	"spt-spectre": {
	    "inherit": "spt",
	    "+script_opts": ["--speculation-model=spectre"]
	}
    },

    "exp": {
	"unsafe-baseline": {"sw": "llsct", "sim": "base", "hwmode": "base"},
	"unsafe-baseline-lto": {"sw": "llsct-lto", "sim": "base", "hwmode": "base"},
	"llsct": {"sw": "llsct", "sim": "llsct", "hwmode": "llsct-declassify-shadowmem"},
	"llsct-lto": {"inherit": "llsct", "sw": "llsct-lto"},
	"llsct-lto-unsafe": {"inherit": "llsct-lto", "hwmode": "base"},
	"llsct-cache": {"sw": "llsct", "sim": "llsct", "hwmode": "llsct-declassify-cache"},
	"llsct-lto-cache": {"sw": "llsct-lto", "sim": "llsct", "hwmode": "llsct-declassify-cache"},
	"llsct-lto-debug": {"sw": "llsct-lto-debug", "sim": "llsct", "hwmode": "llsct-declassify-shadowmem"},
	"llsct-cfi": {"sw": "llsct", "sim": "llsct", "hwmode": "llsct"},
	"llsct-pipeview": {"sw": "llsct", "sim": "llsct", "hwmode": "llsct-pipeview"},
	"llsct-arch": {"sw": "llsct", "sim": "llsct", "hwmode": "llsct-arch"},
	"llsct-spectre": {"sw": "llsct", "sim": "llsct", "hwmode": "llsct-spectre"},

	"unsafe-ct":  {"sw": "llsct-ct",   "sim": "base",  "hwmode": "base"},
	"unsafe-sbox":{"sw": "llsct-sbox", "sim": "base",  "hwmode": "base"},

	"llsct-ct-futuristic":   {"sw": "llsct-ct",   "sim": "llsct", "hwmode": "llsct"},
	"llsct-ct-futuristic-nodecl": {"sw": "llsct-ct", "sim": "llsct", "hwmode": "llsct-nodecl"},
	"llsct-sbox-futuristic-nodecl": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "llsct-nodecl"},
	"llsct-ct-futuristic-mem-cache": {"sw": "llsct-ct", "sim": "llsct", "hwmode": "llsct-declassify-cache"},
	"llsct-ct-futuristic-none": {"sw": "llsct-ct", "sim": "llsct", "hwmode": "base"},
	"llsct-ct-futuristic-mem-shadowmem": {"sw": "llsct-ct", "sim": "llsct", "hwmode": "llsct-declassify-shadowmem"},
	"llsct-ct-futuristic-mem-shadowl1": {"sw": "llsct-ct", "sim": "llsct", "hwmode": "llsct-declassify-shadowl1"},
	"llsct-ct-futuristic-mem-shadowl1+pattern": {"sw": "llsct-ct", "sim": "llsct", "hwmode": "llsct-declassify-shadowl1+pattern"},
	"llsct-ct-spectre":   {"sw": "llsct-ct",   "sim": "llsct", "hwmode": "llsct-spectre"},

	"llsct-ct-futuristic-shadowmem": {"sw": "llsct-ct", "sim": "llsct", "hwmode": "llsct-shadowmem"},
	"llsct-ct-futuristic-shadowl1": {"sw": "llsct-ct", "sim": "llsct", "hwmode": "llsct-shadowl1"},

	"llsct-sbox-futuristic": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "llsct"},
	"llsct-sbox-futuristic-mem-cache": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "llsct-declassify-cache"},
	"llsct-sbox-futuristic-none": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "base"},
	"llsct-sbox-futuristic-mem-shadowmem": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "llsct-declassify-shadowmem"},
	"llsct-sbox-futuristic-mem-shadowl1": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "llsct-declassify-shadowl1"},
	"llsct-sbox-spectre": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "llsct-spectre"},

	"llsct-sbox-futuristic-shadowmem": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "llsct-shadowmem"},
	"llsct-sbox-futuristic-shadowl1": {"sw": "llsct-sbox", "sim": "llsct", "hwmode": "llsct-shadowl1"},
	
	"spt-ct-futuristic": {"sw": "llsct-ct", "sim": "spt", "hwmode": "spt"},
	"spt-ct-spectre": {"sw": "llsct-ct", "sim": "spt", "hwmode": "spt-spectre"},

	"stt-sbox-futuristic": {"sw": "llsct-sbox", "sim": "stt", "hwmode": "stt"},
	"stt-sbox-spectre": {"sw": "llsct-sbox", "sim": "stt", "hwmode": "stt-spectre"},


	"unsafe-ct-memalign": {"sw": "llsct-ct-align", "sim": "base", "hwmode": "base"},
	"llsct-ct-futuristic-memalign-shadowl1+pattern": {"sw": "llsct-ct-align", "sim": "llsct", "hwmode": "llsct-declassify-shadowl1+pattern"}
	
    }
}
